<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rescales Data Based on Other Data â€¢ rescale</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">rescale</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="/index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<p><img src="https://img.shields.io/badge/stability-unstable-yellow.svg" alt="stability-unstable"><a href="https://travis-ci.org/poissonconsulting/rescale"><img src="https://travis-ci.org/poissonconsulting/rescale.svg?branch=master" alt="Travis-CI Build Status"></a> <a href="https://ci.appveyor.com/project/poissonconsulting/rescale"><img src="https://ci.appveyor.com/api/projects/status/github/poissonconsulting/rescale?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a> <a href="https://codecov.io/gh/poissonconsulting/rescale"><img src="https://codecov.io/gh/poissonconsulting/rescale/branch/master/graph/badge.svg" alt="codecov"></a> <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a></p>
<div id="rescale" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rescale" class="anchor"></a>rescale</h1></div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p><code>rescale</code> is an R package to rescale columns in a data frame based on the columns in a second data frame. For example a column can be rescaled by subtracting the mean and dividing by the standard deviation.</p>
<p>The package was developed for making predictions based on models with rescaled variables. For the predictions to be valid the new data frame must have its predictor variables rescaled based on the original data.</p>
<p>The <code><a href="reference/rescale.html">rescale()</a></code> function simply takes a list of the columns to centre (subtract mean) and scale (centre and then divide by standard deviation).</p>
<p>The <code><a href="reference/rescale_c.html">rescale_c()</a></code> allows columns to be transformed and the values rescaled based on rescaler codes.</p>
<p>The more general <code><a href="reference/rescale_f.html">rescale_f()</a></code> allows columns to be transformed and the values to subtract and/or divide by to be defined by functions.</p>
</div>
<div id="demonstration" class="section level2">
<h2 class="hasAnchor">
<a href="#demonstration" class="anchor"></a>Demonstration</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(newdata)
<span class="kw">library</span>(rescale)
<span class="kw">library</span>(magrittr)

mtcars &lt;-<span class="st"> </span>datasets<span class="op">::</span>mtcars

data &lt;-<span class="st"> </span><span class="kw"><a href="reference/rescale.html">rescale</a></span>(mtcars, <span class="dt">scale =</span> <span class="kw">c</span>(<span class="st">"wt"</span>, <span class="st">"hp"</span>, <span class="st">"disp"</span>))

model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>wt <span class="op">+</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span><span class="kw">poly</span>(disp,<span class="dv">2</span>), <span class="dt">data =</span> data)

## generate new data for plotting change in mpg with disp
new_data &lt;-<span class="st"> </span>newdata<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/newdata/topics/new_data">new_data</a></span>(mtcars, <span class="st">"disp"</span>)

<span class="co"># without rescaling data</span>
prediction &lt;-<span class="st"> </span><span class="kw">predict</span>(model, <span class="dt">newdata =</span> new_data, <span class="dt">interval =</span> <span class="st">"confidence"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">cbind</span>(new_data)

gp &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="dt">data =</span> prediction, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> disp, <span class="dt">y =</span> fit)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_point">geom_point</a></span>(<span class="dt">data =</span> mtcars, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">y =</span> mpg)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_path">geom_line</a></span>() <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_path">geom_line</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">y =</span> lwr), <span class="dt">linetype =</span> <span class="st">"dotted"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_path">geom_line</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">y =</span> upr), <span class="dt">linetype =</span> <span class="st">"dotted"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ylab</a></span>(<span class="st">"mpg"</span>)

gp</code></pre></div>
<p><img src="tools/README-unnamed-chunk-2-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
## scale data
scaled_data &lt;-<span class="st"> </span><span class="kw"><a href="reference/rescale.html">rescale</a></span>(new_data, datasets<span class="op">::</span>mtcars, <span class="dt">scale =</span> <span class="kw">c</span>(<span class="st">"wt"</span>, <span class="st">"hp"</span>, <span class="st">"disp"</span>))
                       
prediction &lt;-<span class="st"> </span><span class="kw">predict</span>(model, <span class="dt">newdata =</span> scaled_data, <span class="dt">interval =</span> <span class="st">"confidence"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">cbind</span>(new_data)

gp <span class="op">%+%</span><span class="st"> </span>prediction</code></pre></div>
<p><img src="tools/README-unnamed-chunk-2-2.png" width="672"></p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install the latest version from GitHub</p>
<pre><code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github"># install.packages("devtools")
devtools::install_github("poissonconsulting/rescale")</a></code></pre>
</div>
<div id="contribution" class="section level2">
<h2 class="hasAnchor">
<a href="#contribution" class="anchor"></a>Contribution</h2>
<p>Please report any <a href="https://github.com/poissonconsulting/rescale/issues">issues</a>.</p>
<p><a href="https://github.com/poissonconsulting/rescale/pulls">Pull requests</a> are always welcome.</p>
<p>Please note that this project is released with a <a href="CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Joe Thorley <br><small class="roles"> Author, maintainer </small> </li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Joe Thorley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
